4 - Recommending for a Multi-sided Marketplace with Heterogeneous and Hierarchical Contents Yuyan Wang, Google Brain, Mountain View, CA Long Tao, Xian Xing Zhang Many personalization platforms today are a multi-sided marketplace consisting of consumers, merchants and other partners, with the contents being heterogeneous and even hierarchical. For a recommender system to be successful in these contexts, it faces two main challenges as described below. First, each side in the marketplace has different and potentially conflicting utilities. Recommending for a multi-sided marketplace therefore entails jointly optimizing multiple conflicting objectives. Second, the off-the-shelf recommendation algorithms are not applicable to the heterogeneous and hierarchical content space, where a recommendation item could be an aggregation of other recommendation items. In this work, we develop a general framework for recommender systems in a multi- sided marketplace with heterogeneous and hierarchical contents. We combine machine learning with multi- objective optimization for the multi-sided marketplace, and incorporate structural modeling for user scrolling patterns for the heterogeneous and hierarchical contents. Our proposed structural modeling approach ensures consistent user experience across different levels of aggregation of the contents, and provides levels of transparency to the merchants and content creators. We further provide theoretical insights on the Pareto frontier among multiple objectives under our framework, and develop an efficient optimization solution for ranking and recommendation in large-scale online systems in real time. We implement the framework at Uber Eats, the personalized food delivery service by Uber and one of the largest food delivery platforms in the world, which is a three-sided marketplace consisting  of eaters, restaurant partners and delivery partners. Online experiments demonstrate a significant increase in user conversion (+1.5%), retention (+0.7%) and gross bookings (+0.5%), which combined translate to $2.4M weekly gain in gross bookings. Our work has been deployed globally as the recommendation algorithm for Uber Eats homepage. 